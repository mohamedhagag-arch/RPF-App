# ๐ ููู ูุนูู ุชุญุฏูุซ Access Token ุชููุงุฆูุงู

## ๐ ุงููุฑู ุจูู Access Token ู Refresh Token

### Access Token (ููุชูู ุจุนุฏ ุณุงุนุฉ):
- โ ูุณุชุฎุฏู ูููุตูู ุฅูู Google Drive API
- โฐ ููุชูู ุจุนุฏ **ุณุงุนุฉ ูุงุญุฏุฉ** (3599 ุซุงููุฉ)
- ๐ ูุชู ุชุญุฏูุซู ุชููุงุฆูุงู ุจุงุณุชุฎุฏุงู Refresh Token

### Refresh Token (ุฏุงุฆู):
- โ ูุณุชุฎุฏู ูุชุญุฏูุซ Access Token
- โพ๏ธ **ุฏุงุฆู** (ูุง ููุชูู ุฃุจุฏุงู)
- ๐ ูุชู ุญูุธู ูู `.env.local` ูุฑุฉ ูุงุญุฏุฉ ููุท

---

## ๐ ููู ูุนูู ุงููุธุงู ุชููุงุฆูุงู:

### ุนูุฏ ุงูุญุงุฌุฉ ูู Access Token:

1. **ุงูุฎุทูุฉ 1**: ุงููุธุงู ูุชุญูู ูู Access Token ุงูุญุงูู
   ```typescript
   let accessToken = process.env.GOOGLE_DRIVE_ACCESS_TOKEN
   ```

2. **ุงูุฎุทูุฉ 2**: ุฅุฐุง ูู ููู ููุฌูุฏุงู ุฃู ููุชููุ ูุณุชุฎุฏู Refresh Token:
   ```typescript
   if (!accessToken && refreshToken) {
     const tokenData = await refreshGoogleDriveToken(
       refreshToken,
       clientId,
       clientSecret
     )
     accessToken = tokenData.accessToken // โ Access Token ุฌุฏูุฏ!
   }
   ```

3. **ุงูุฎุทูุฉ 3**: ูุณุชุฎุฏู Access Token ุงูุฌุฏูุฏ ูููุตูู ุฅูู Google Drive

---

## โ ูุงุฐุง ูุนูู ูุฐุง ูู:

### ๐ **ูุง ุญุงุฌุฉ ูุฃู ุชุฏุฎู ูุฏูู!**

- โ ุงููุธุงู ูุญุฏูุซ Access Token ุชููุงุฆูุงู
- โ ูุนูู 24/7 ุจุฏูู ูุดุงูู
- โ Backup ุงูุชููุงุฆู ุงููููู ูุนูู ุจุฏูู ุฃู ุชุฏุฎู
- โ Refresh Token ููุฌูุฏ ูู `.env.local` ููุณุชุฎุฏู ุชููุงุฆูุงู

### ๐ ููุงุญุธุงุช:

1. **Access Token ูู `.env.local`** (ุฅุฐุง ูุงู ููุฌูุฏุงู):
   - ููููู ุญุฐูู - ุงููุธุงู ุณูุณุชุฎุฏู Refresh Token ุชููุงุฆูุงู
   - ุฃู ุงุชุฑูู - ุณููุชูู ุจุนุฏ ุณุงุนุฉ ููู ุงููุธุงู ุณูุญุฏูุซู

2. **Refresh Token ูู `.env.local`**:
   - โ๏ธ **ููู ุฌุฏุงู** - ูุง ุชุญุฐูู ุฃุจุฏุงู!
   - ูุฐุง ูู ุงูููุชุงุญ ุงูุฏุงุฆู ูููุตูู

3. **ุนูุฏ ุงูุฑูุน ุนูู Vercel**:
   - ุฃุถู `GOOGLE_DRIVE_REFRESH_TOKEN` ููุท
   - ูุง ุญุงุฌุฉ ูู `GOOGLE_DRIVE_ACCESS_TOKEN` (ุณูุชู ุฅูุดุงุคู ุชููุงุฆูุงู)

---

## ๐ ูุซุงู ุนููู:

### ุงูุณููุงุฑูู: Backup ุงูุชููุงุฆู ุงููููู

1. **ุงูุณุงุนุฉ 2:00 AM** - Cron job ูุนูู
2. **ุงููุธุงู ูุชุญูู**: Access Token ููุฌูุฏุ
   - โ ูุนู โ ูุณุชุฎุฏูู
   - โ ูุง โ ูุณุชุฎุฏู Refresh Token ููุญุตูู ุนูู Access Token ุฌุฏูุฏ
3. **ุฅูุดุงุก Backup** โ ุฑูุน ุฅูู Google Drive
4. **ุงููุฌุงุญ!** โ

**ุจุนุฏ ุณุงุนุฉ** (Access Token ููุชูู):
- ูุง ูุดููุฉ! ุนูุฏ ุงูุญุงุฌุฉ ุงูุชุงููุฉุ ุงููุธุงู ุณูุญุฏูุซู ุชููุงุฆูุงู

---

## ๐ฏ ุงูุฎูุงุตุฉ:

### โ **ูุง ุชููู!**

- Access Token ููุชูู ุจุนุฏ ุณุงุนุฉ โ **ูุฐุง ุทุจูุนู ูููุตูุฏ**
- Refresh Token ุฏุงุฆู โ **ูุฐุง ููุฌูุฏ ูู `.env.local`**
- ุงููุธุงู ูุญุฏูุซ Access Token ุชููุงุฆูุงู โ **ูุง ุญุงุฌุฉ ูุฃู ุชุฏุฎู**

### ๐ **ูุง ุชุญุชุงุฌ ูุนูู:**

1. โ ุชุฃูุฏ ูู ูุฌูุฏ `GOOGLE_DRIVE_REFRESH_TOKEN` ูู `.env.local` โ **ููุฌูุฏ โ**
2. โ ุนูุฏ ุงูุฑูุน ุนูู Vercelุ ุฃุถู `GOOGLE_DRIVE_REFRESH_TOKEN` ููุท
3. โ ูู ุดูุก ุขุฎุฑ ูุนูู ุชููุงุฆูุงู!

---

## ๐งช ุงุฎุชุจุงุฑ:

ุฌุฑุจ ุงูุขู:
```bash
npm run test:backup
```

ุณูุนูู ุญุชู ูู Access Token ููุชูู - ุงููุธุงู ุณูุญุฏูุซู ุชููุงุฆูุงู! ๐


