# ๐ ููู ุดุงูู ูููุตู ููุดุฑูุน AlRabat RPF

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน

**AlRabat RPF** ูู ูุธุงู ูุชูุฏู ููุชูุงูู ูุฅุฏุงุฑุฉ ุงููุดุงุฑูุน ุงูุฅูุดุงุฆูุฉุ ูุตูู ุฎุตูุตุงู ูุดุฑูุงุช ุงูุจูุงุก ูุฅุฏุงุฑุฉ ุงููุดุงุฑูุน. ุงููุธุงู ูุจูู ุนูู ุฃุญุฏุซ ุงูุชูููุงุช ููููุฑ ุญูููุงู ุดุงููุฉ ูุฅุฏุงุฑุฉ ุฏูุฑุฉ ุญูุงุฉ ุงููุดุงุฑูุน ูู ุงูุจุฏุงูุฉ ุญุชู ุงูููุงูุฉ.

**ุงูุฑุงุจุท ุงููุจุงุดุฑ:** https://alrabat-rpf.vercel.app  
**ุงูุฅุตุฏุงุฑ ุงูุญุงูู:** 3.0.14  
**ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2024  
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุฅูุชุงุฌ โ

---

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Frontend
- **Next.js 14** (App Router) - ุฅุทุงุฑ ุนูู React ุงูุญุฏูุซ
- **React 18** - ููุชุจุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- **TypeScript** - ููุชุญูู ูู ุงูุฃููุงุน
- **Tailwind CSS** - ููุชุตููู ูุงูุชูุณูู
- **Lucide React** - ููุฃููููุงุช
- **Recharts** - ููุฑุณูู ุงูุจูุงููุฉ
- **React Hook Form** - ูุฅุฏุงุฑุฉ ุงูููุงุฐุฌ

### Backend & Database
- **Supabase** (PostgreSQL) - ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ
- **Supabase Auth** - ูุธุงู ุงููุตุงุฏูุฉ
- **Row Level Security (RLS)** - ุฃูุงู ุนูู ูุณุชูู ุงูุตููู
- **PostgreSQL Functions & Triggers** - ููุนูููุงุช ุงูุชููุงุฆูุฉ

### Infrastructure
- **Vercel** - ุงูุงุณุชุถุงูุฉ ูุงููุดุฑ
- **Supabase Cloud** - ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุณุญุงุจูุฉ
- **Google Drive API** - ูููุณุฎ ุงูุงุญุชูุงุทู (ุงุฎุชูุงุฑู)

---

## ๐๏ธ ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

#### 1. **Planning Database - ProjectsList** (ุงููุดุงุฑูุน)
```sql
ุงูุบุฑุถ: ุชุฎุฒูู ุฌููุน ูุนูููุงุช ุงููุดุงุฑูุน

ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ:
- Project Code: ุฑูุฒ ุงููุดุฑูุน (ูุฑูุฏ)
- Project Sub-Code: ุงูุฑูุฒ ุงููุฑุนู
- Project Name: ุงุณู ุงููุดุฑูุน
- Project Type: ููุน ุงููุดุฑูุน
- Responsible Division: ุงููุณู ุงููุณุคูู
- Project Status: ุญุงูุฉ ุงููุดุฑูุน (8 ุญุงูุงุช)
- Contract Amount: ูููุฉ ุงูุนูุฏ
- Currency: ุงูุนููุฉ (ุงูุชุฑุงุถู: AED)
- Client Name: ุงุณู ุงูุนููู
- Consultant Name: ุงุณู ุงูุงุณุชุดุงุฑู
- Project Manager Email: ุฅูููู ูุฏูุฑ ุงููุดุฑูุน
- Area Manager Email: ุฅูููู ูุฏูุฑ ุงูููุทูุฉ
- Date Project Awarded: ุชุงุฑูุฎ ููุญ ุงููุดุฑูุน
- Latitude/Longitude: ุงูุฅุญุฏุงุซูุงุช ุงูุฌุบุฑุงููุฉ
- Work Programme: ุจุฑูุงูุฌ ุงูุนูู
- Contract Status: ุญุงูุฉ ุงูุนูุฏ
```

**ุญุงูุงุช ุงููุดุฑูุน:**
- `upcoming`: ูุงุฏู
- `site-preparation`: ุฅุนุฏุงุฏ ุงููููุน
- `on-going`: ุฌุงุฑู
- `completed`: ููุชูู
- `completed-duration`: ููุชูู ุจุงููุฏูุฉ
- `contract-duration`: ูุฏุฉ ุงูุนูุฏ
- `on-hold`: ูุชููู
- `cancelled`: ููุบู

#### 2. **Planning Database - BOQ Rates** (ุฃูุดุทุฉ BOQ)
```sql
ุงูุบุฑุถ: ุชุฎุฒูู ุฌููุน ุฃูุดุทุฉ ูุดูู ุงููููุงุช ูุชุชุจุน ุชูุฏููุง

ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ:
- Activity: ุงุณู ุงููุดุงุท
- Activity Name: ุงุณู ุงููุดุงุท (ูุนูุงุฑู)
- Activity Division: ูุณู ุงููุดุงุท
- Unit: ูุญุฏุฉ ุงูููุงุณ
- Zone Ref: ูุฑุฌุน ุงูููุทูุฉ
- Zone Number: ุฑูู ุงูููุทูุฉ

๐ ุงููููุงุช:
- Total Units: ุฅุฌูุงูู ุงููุญุฏุงุช ุงููุฎุทุทุฉ
- Planned Units: ุงููุญุฏุงุช ุงููุฎุทุทุฉ ูููุชุฑุฉ
- Actual Units: ุงููุญุฏุงุช ุงููุนููุฉ ุงูููุฌุฒุฉ
- Difference: ุงููุฑู (Actual - Planned)
- Variance Units: ุงูุชุจุงูู ูู ุงููุญุฏุงุช

๐ฐ ุงูููู ุงููุงููุฉ:
- Rate: ุณุนุฑ ุงููุญุฏุฉ
- Total Value: ุงููููุฉ ุงูุฅุฌูุงููุฉ
- Planned Value: ุงููููุฉ ุงููุฎุทุทุฉ
- Earned Value: ุงููููุฉ ุงูููุชุณุจุฉ
- Remaining Work Value: ุงููููุฉ ุงููุชุจููุฉ
- Variance Works Value: ุงูุชุจุงูู ูู ุงููููุฉ

๐ ุงูุชูุงุฑูุฎ ูุงููุฏุฏ:
- Planned Activity Start Date: ุชุงุฑูุฎ ุจุฏุก ุงููุดุงุท ุงููุฎุทุท
- Deadline: ุงูููุนุฏ ุงูููุงุฆู
- Activity Planned Start Date: ุชุงุฑูุฎ ุงูุจุฏุก ุงููุฎุทุท
- Activity Planned Completion Date: ุชุงุฑูุฎ ุงูุฅูุฌุงุฒ ุงููุฎุทุท
- Activity Actual Start Date: ุชุงุฑูุฎ ุงูุจุฏุก ุงููุนูู
- Activity Actual Completion Date: ุชุงุฑูุฎ ุงูุฅูุฌุงุฒ ุงููุนูู
- Calendar Duration: ุงููุฏุฉ ุงูุชูููููุฉ

๐ ุงูุชูุฏู ูุงูุฃุฏุงุก:
- Activity Progress %: ูุณุจุฉ ุชูุฏู ุงููุดุงุท
- Planned Progress %: ูุณุจุฉ ุงูุชูุฏู ุงููุฎุทุท
- Delay %: ูุณุจุฉ ุงูุชุฃุฎูุฑ
- Productivity Daily Rate: ูุนุฏู ุงูุฅูุชุงุฌูุฉ ุงููููู

โ ุงูุญุงูุงุช:
- Activity Completed: ููุชููุ
- Activity Delayed: ูุชุฃุฎุฑุ
- Activity On Track: ุนูู ุงููุณุงุฑ ุงูุตุญูุญุ
- Activity Planned Status: ุญุงูุฉ ุงููุดุงุท ุงููุฎุทุท
- Activity Actual Status: ุญุงูุฉ ุงููุดุงุท ุงููุนูู

๐ฏ Activity Timing:
- pre-commencement: ูุจู ุงูุจุฏุก
- post-commencement: ุจุนุฏ ุงูุจุฏุก
- post-completion: ุจุนุฏ ุงูุฅูุฌุงุฒ
```

#### 3. **Planning Database - KPI** (ุฌุฏูู ููุญุฏ ูููุคุดุฑุงุช) โญ
```sql
ุงูุบุฑุถ: ุฌุฏูู ูุงุญุฏ ูุฌููุน ูุคุดุฑุงุช ุงูุฃุฏุงุก (ุงููุฎุทุทุฉ ูุงููุนููุฉ)

โจ ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ: ุฌุฏูู ููุญุฏ ูุญุชูู ุนูู Planned ู Actual ูู ููุณ ุงูููุงู
ูุชู ุงูุชูููุฒ ุจููููุง ุจุงุณุชุฎุฏุงู ุนููุฏ "Input Type"

ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ:
- Project Full Code: ุฑูุฒ ุงููุดุฑูุน ุงููุงูู
- Project Code: ุฑูุฒ ุงููุดุฑูุน
- Project Sub Code: ุงูุฑูุฒ ุงููุฑุนู
- Activity Name: ุงุณู ุงููุดุงุท
- Activity: ุงุณู ุงููุดุงุท (ููุชูุงูู)

๐ฏ Input Type: ููุน ุงูุณุฌู
  - "Planned": ูุฎุทุทุฉ
  - "Actual": ูุนููุฉ

๐ ุงููููุงุช:
- Quantity: ุงููููุฉ
- Unit: ูุญุฏุฉ ุงูููุงุณ
- Drilled Meters: ุฃูุชุงุฑ ุงูุญูุฑ (ููุญูุฑ)

๐ฐ ุงููููุฉ ุงููุงููุฉ:
- Value: ุงููููุฉ ุงููุงููุฉ ูููุดุงุท (ูุชู ุญุณุงุจูุง ุชููุงุฆูุงู: Quantity ร Rate)

๐ ุงูุชูุงุฑูุฎ:
- Target Date: ุงูุชุงุฑูุฎ ุงููุณุชูุฏู (ูููุฎุทุทุฉ)
- Actual Date: ุงูุชุงุฑูุฎ ุงููุนูู (ูููุนููุฉ)
- Activity Date: ุงูุชุงุฑูุฎ ุงูููุญุฏ
- Day: ุงูููู ุงููุฑุฌุนู (Day 5 - Monday)

๐ ุงููููุน:
- Zone: ุงูููุทูุฉ
- Section: ุงููุณู

๐ค ุงููุณุคูู:
- Recorded By: ุณุฌู ุจูุงุณุทุฉ (ูููุนููุฉ ููุท)

๐ ููุงุญุธุงุช:
- Notes: ููุงุญุธุงุช
- Approval Status: ุญุงูุฉ ุงูููุงููุฉ
- Approved By: ูุงูู ุนููู
```

#### 4. **users** (ุงููุณุชุฎุฏููู)
```sql
ุงูุบุฑุถ: ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช

ุงูุฃุนูุฏุฉ:
- id: UUID (ูุฑุชุจุท ุจู auth.users)
- email: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ูุฑูุฏ)
- full_name: ุงูุงุณู ุงููุงูู
- first_name: ุงูุงุณู ุงูุฃูู (ุงุฎุชูุงุฑู)
- last_name: ุงุณู ุงูุนุงุฆูุฉ (ุงุฎุชูุงุฑู)
- role: ุงูุฏูุฑ (admin, manager, engineer, viewer, planner)
- division: ุงููุณู
- permissions: TEXT[] - ูุตูููุฉ ูู ุฃุฑูุงู ุงูุตูุงุญูุงุช
- custom_permissions_enabled: BOOLEAN
  - false: ุงุณุชุฎุฏุงู ุตูุงุญูุงุช ุงูุฏูุฑ ุงูุงูุชุฑุงุถูุฉ
  - true: ุงุณุชุฎุฏุงู ุงูุตูุงุญูุงุช ุงููุฎุตุตุฉ ููุท
- is_active: ูุดุทุ
- created_at: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- updated_at: ุชุงุฑูุฎ ุงูุชุญุฏูุซ
```

**ุงูุฃุฏูุงุฑ ุงููุชุงุญุฉ:**
- `admin`: ูุฏูุฑ ุงููุธุงู - ูู ุงูุตูุงุญูุงุช (54 ุตูุงุญูุฉ)
- `manager`: ูุฏูุฑ - ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน ูุงูุฃูุดุทุฉ (~45 ุตูุงุญูุฉ)
- `engineer`: ูููุฏุณ - ุฅูุดุงุก ูุชุนุฏูู ุงูุฃูุดุทุฉ ูุงููุคุดุฑุงุช (~30 ุตูุงุญูุฉ)
- `viewer`: ูุดุงูุฏ - ุนุฑุถ ููุท (~20 ุตูุงุญูุฉ)
- `planner`: ูุฎุทุท - ููููู ุงูููุงููุฉ ุนูู Planned KPIs (~25 ุตูุงุญูุฉ)

#### 5. **ุงูุฌุฏุงูู ุงูุฅุถุงููุฉ**
- `divisions`: ุงูุฃูุณุงู
- `project_types`: ุฃููุงุน ุงููุดุงุฑูุน
- `currencies`: ุงูุนููุงุช
- `holidays`: ุงูุนุทูุงุช
- `company_settings`: ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ
- `departments`: ุงูุฃูุณุงู
- `job_titles`: ุงููุณููุงุช ุงููุธูููุฉ
- `audit_log`: ุณุฌูุงุช ุงูุชุฏููู
- `user_activities`: ุฃูุดุทุฉ ุงููุณุชุฎุฏููู
- `saved_views`: ุงููุดุงูุฏุงุช ุงููุญููุธุฉ

---

## ๐ ูุธุงู ุงูุตูุงุญูุงุช ุงููุชูุฏู

### ุงูุตูุงุญูุงุช ุงููุชุงุญุฉ (200+ ุตูุงุญูุฉ ูู 8 ูุฆุงุช)

#### 1. **Dashboard Permissions**
- `dashboard.view`: ุนุฑุถ ููุญุฉ ุงูุชุญูู

#### 2. **Projects Permissions**
- `projects.view`: ุนุฑุถ ุงููุดุงุฑูุน
- `projects.create`: ุฅูุดุงุก ูุดุงุฑูุน
- `projects.edit`: ุชุนุฏูู ุงููุดุงุฑูุน
- `projects.delete`: ุญุฐู ุงููุดุงุฑูุน
- `projects.export`: ุชุตุฏูุฑ ุจูุงูุงุช ุงููุดุงุฑูุน
- `projects.import`: ุงุณุชูุฑุงุฏ ุงููุดุงุฑูุน
- `projects.print`: ุทุจุงุนุฉ ุงููุดุงุฑูุน
- `projects.zones`: ุฅุฏุงุฑุฉ ุงูููุงุทู

#### 3. **BOQ Permissions**
- `boq.view`: ุนุฑุถ ุงูุฃูุดุทุฉ
- `boq.create`: ุฅูุดุงุก ุฃูุดุทุฉ
- `boq.edit`: ุชุนุฏูู ุงูุฃูุดุทุฉ
- `boq.delete`: ุญุฐู ุงูุฃูุดุทุฉ
- `boq.approve`: ุงูููุงููุฉ ุนูู ุงูุฃูุดุทุฉ
- `boq.export`: ุชุตุฏูุฑ ุจูุงูุงุช BOQ
- `boq.import`: ุงุณุชูุฑุงุฏ BOQ
- `boq.print`: ุทุจุงุนุฉ BOQ

#### 4. **KPI Permissions**
- `kpi.view`: ุนุฑุถ ุงููุคุดุฑุงุช
- `kpi.create`: ุฅูุดุงุก ูุคุดุฑุงุช
- `kpi.edit`: ุชุนุฏูู ุงููุคุดุฑุงุช
- `kpi.delete`: ุญุฐู ุงููุคุดุฑุงุช
- `kpi.export`: ุชุตุฏูุฑ ุจูุงูุงุช KPI
- `kpi.import`: ุงุณุชูุฑุงุฏ KPIs
- `kpi.print`: ุทุจุงุนุฉ KPIs
- `kpi.approve`: ุงูููุงููุฉ ุนูู ุงููุคุดุฑุงุช ุงููุนููุฉ
- `kpi.need_to_submit`: ุงููุตูู ุฅูู KPIs ุงููุนููุฉ

#### 5. **Reports Permissions**
- `reports.view`: ุนุฑุถ ุงูุชูุงุฑูุฑ
- `reports.daily`: ุงูุชูุงุฑูุฑ ุงูููููุฉ
- `reports.weekly`: ุงูุชูุงุฑูุฑ ุงูุฃุณุจูุนูุฉ
- `reports.monthly`: ุงูุชูุงุฑูุฑ ุงูุดูุฑูุฉ
- `reports.financial`: ุงูุชูุงุฑูุฑ ุงููุงููุฉ
- `reports.export`: ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ
- `reports.print`: ุทุจุงุนุฉ ุงูุชูุงุฑูุฑ
- `reports.lookahead`: ุชูุงุฑูุฑ Lookahead
- `reports.critical`: ุชูุงุฑูุฑ ุงููุณุงุฑ ุงูุญุฑุฌ
- `reports.performance`: ุชูุงุฑูุฑ ุงูุฃุฏุงุก
- `reports.custom`: ุชูุงุฑูุฑ ูุฎุตุตุฉ

#### 6. **Users Permissions**
- `users.view`: ุนุฑุถ ุงููุณุชุฎุฏููู
- `users.create`: ุฅูุดุงุก ูุณุชุฎุฏููู
- `users.edit`: ุชุนุฏูู ุงููุณุชุฎุฏููู
- `users.delete`: ุญุฐู ุงููุณุชุฎุฏููู
- `users.permissions`: ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- `users.roles`: ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- `users.groups`: ุฅุฏุงุฑุฉ ุงููุฌููุนุงุช
- `users.bulk`: ุนูููุงุช ูุฌูุนุฉ
- `users.import`: ุงุณุชูุฑุงุฏ ูุณุชุฎุฏููู
- `users.export`: ุชุตุฏูุฑ ุจูุงูุงุช ุงููุณุชุฎุฏููู

#### 7. **Settings Permissions**
- `settings.view`: ุนุฑุถ ุงูุฅุนุฏุงุฏุงุช
- `settings.company`: ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ
- `settings.divisions`: ุฅุฏุงุฑุฉ ุงูุฃูุณุงู
- `settings.project_types`: ุฅุฏุงุฑุฉ ุฃููุงุน ุงููุดุงุฑูุน
- `settings.currencies`: ุฅุฏุงุฑุฉ ุงูุนููุงุช
- `settings.activities`: ุฅุฏุงุฑุฉ ููุงูุจ ุงูุฃูุดุทุฉ
- `settings.holidays`: ุฅุฏุงุฑุฉ ุงูุนุทูุงุช (view, create, edit, delete)

#### 8. **System Permissions**
- `system.import`: ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
- `system.export`: ุชุตุฏูุฑ ุงูุจูุงูุงุช
- `system.backup`: ุงููุณุฎ ุงูุงุญุชูุงุทู
- `system.audit`: ุนุฑุถ ุณุฌูุงุช ุงูุชุฏููู
- `system.search`: ุงูุจุญุซ ุงูุดุงูู
- `audit_log.view`: ุนุฑุถ ุณุฌูุงุช ุงูุชุฏููู
- `audit_log.export`: ุชุตุฏูุฑ ุณุฌูุงุช ุงูุชุฏููู
- `activity_log.view`: ุนุฑุถ ุณุฌูุงุช ุงูุฃูุดุทุฉ
- `activity_log.export`: ุชุตุฏูุฑ ุณุฌูุงุช ุงูุฃูุดุทุฉ
- `database.view`: ุนุฑุถ ุฅุญุตุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `database.backup`: ุฅูุดุงุก ูุณุฎ ุงุญุชูุงุทูุฉ
- `database.restore`: ุงุณุชุนุงุฏุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- `database.export`: ุชุตุฏูุฑ ุงูุฌุฏุงูู
- `database.import`: ุงุณุชูุฑุงุฏ ุงูุฌุฏุงูู
- `database.manage`: ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงููุฉ

### ูุธุงู ุงูุตูุงุญูุงุช ุงููุฎุตุตุฉ

```typescript
// ุฅุฐุง ูุงู custom_permissions_enabled = true
// ูุณุชุฎุฏู ููุท ุงูุตูุงุญูุงุช ุงููุฎุตุตุฉ (ุญุชู ูู ูุงู Admin)
if (user.custom_permissions_enabled) {
  return user.permissions // ุงูุตูุงุญูุงุช ุงููุฎุตุตุฉ ููุท
}

// ุฅุฐุง ูุงู custom_permissions_enabled = false
// ูุณุชุฎุฏู ุตูุงุญูุงุช ุงูุฏูุฑ ุงูุงูุชุฑุงุถูุฉ
return DEFAULT_ROLE_PERMISSIONS[user.role]
```

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ ูููุธุงู

### 1. **ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน (Projects Management)**

#### ุงููุธุงุฆู ุงููุชุงุญุฉ:
- โ ุฅูุดุงุก ูุดุงุฑูุน ุฌุฏูุฏุฉ ูุน ูุนูููุงุช ูุงููุฉ
- โ ุชุนุฏูู ูุนูููุงุช ุงููุดุงุฑูุน
- โ ุญุฐู ุงููุดุงุฑูุน (ูุน Cascade Delete ููุฃูุดุทุฉ)
- โ ุชุชุจุน ุญุงูุฉ ุงููุดุฑูุน (8 ุญุงูุงุช)
- โ ุฅุฏุงุฑุฉ ุงูุนููุงุช ูููุดุงุฑูุน
- โ ุฑุจุท ุงููุดุงุฑูุน ุจุงูุฃูุณุงู ูุงูุฃููุงุน
- โ ุชุชุจุน ุงููููุน ุงูุฌุบุฑุงูู (GPS)
- โ ุฅุฏุงุฑุฉ ูุฑูู ุงููุดุฑูุน (PM, Area Manager)
- โ ุนุฑุถ ูุงุฆูุฉ ุงููุดุงุฑูุน ูุน ุชุตููุฉ ููุฑุฒ ูุชูุฏู
- โ ุฅุฏุงุฑุฉ ุงูููุงุทู (Zones) ูููุดุงุฑูุน
- โ ุชุฎุตูุต ุงูุฃุนูุฏุฉ ุงููุนุฑูุถุฉ ูู ุงูุฌุฏุงูู

#### ุงูููููุงุช ุงูุฑุฆูุณูุฉ:
- `IntelligentProjectForm.tsx`: ูููุฐุฌ ุฐูู ูุฅูุดุงุก/ุชุนุฏูู ุงููุดุงุฑูุน
- `ProjectsTableWithCustomization.tsx`: ุฌุฏูู ุงููุดุงุฑูุน ูุน ุชุฎุตูุต ุงูุฃุนูุฏุฉ
- `ProjectsList.tsx`: ูุงุฆูุฉ ุงููุดุงุฑูุน
- `ProjectZonesManager.tsx`: ุฅุฏุงุฑุฉ ุงูููุงุทู

---

### 2. **ุฅุฏุงุฑุฉ BOQ (Bill of Quantities)**

#### ุงููุธุงุฆู ุงููุชุงุญุฉ:
- โ ุฅูุดุงุก ุฃูุดุทุฉ BOQ ุฌุฏูุฏุฉ
- โ ุฑุจุท ุงูุฃูุดุทุฉ ุจุงููุดุงุฑูุน
- โ ุชุชุจุน ุงููููุงุช ุงููุฎุทุทุฉ ูุงููุนููุฉ
- โ ุญุณุงุจ ุงูููู ุงููุงููุฉ ุชููุงุฆูุงู
- โ ุชุชุจุน ุงูุชูุฏู ูุงููุณุจ ุงููุฆููุฉ
- โ ุชุญุฏูุฏ Activity Timing (pre/post commencement/completion)
- โ ุฅุฏุงุฑุฉ ุงูุชูุงุฑูุฎ (Start, End, Duration)
- โ ุญุณุงุจ ุงูุฅูุชุงุฌูุฉ ุงูููููุฉ
- โ ุชุชุจุน ุงูุญูุฑ (Drilled Meters)
- โ **ุชูููุฏ KPI ุชููุงุฆูุงู** ูู ุฃูุดุทุฉ BOQ
- โ ุญุณุงุจ Activity Start Date ูู ุฃูู KPI ูุฎุทุทุฉ
- โ ุนุฑุถ Day Order ููุฃูุดุทุฉ
- โ ูุฒุงููุฉ ุชููุงุฆูุฉ ุจูู BOQ ู KPI

#### ุงูููููุงุช ุงูุฑุฆูุณูุฉ:
- `IntelligentBOQForm.tsx`: ูููุฐุฌ ุฐูู ูุฃูุดุทุฉ BOQ
- `BOQTableWithCustomization.tsx`: ุฌุฏูู ุงูุฃูุดุทุฉ
- `BOQManagement.tsx`: ุฅุฏุงุฑุฉ BOQ
- `BOQWithKPIStatus.tsx`: ุนุฑุถ BOQ ูุน ุญุงูุฉ KPI

#### ุชูููุฏ KPI ุงูุชููุงุฆู:
```typescript
// ุนูุฏ ุฅูุดุงุก/ุชุนุฏูู ูุดุงุท BOQ:
1. ูุชู ุญุณุงุจ ุฃูุงู ุงูุนูู ุจูู ุชุงุฑูุฎู ุงูุจุฏุก ูุงูุงูุชูุงุก
2. ูุชู ุชูุฒูุน ุงููููุฉ (Planned Units) ุนูู ุฃูุงู ุงูุนูู
3. ูุชู ุฅูุดุงุก ุณุฌูุงุช KPI ูุฎุทุทุฉ ููู ููู ุนูู
4. ูู ุณุฌู ูุญุชูู ุนูู:
   - Quantity: ุงููููุฉ ุงููุฎุทุทุฉ ูุฐูู ุงูููู
   - Target Date: ุชุงุฑูุฎ ุฐูู ุงูููู
   - Value: ุงููููุฉ ุงููุงููุฉ (Quantity ร Rate)
   - Input Type: "Planned"
```

---

### 3. **ุชุชุจุน KPI (Key Performance Indicators)**

#### ุงููุธุงุฆู ุงููุชุงุญุฉ:
- โ ุนุฑุถ ุฌููุน KPIs (ูุฎุทุทุฉ ููุนููุฉ)
- โ ุฅูุดุงุก KPIs ูุฎุทุทุฉ ูุฏููุงู
- โ ุชุณุฌูู KPIs ูุนููุฉ
- โ ููุงููุฉ ุนูู KPIs ูุนููุฉ (ูููุฏูุฑูู)
- โ ุชุชุจุน ุงูุชูุฏู ููุงุจู ุงููุฎุทุท
- โ ุญุณุงุจ ุงููุฑููุงุช ูุงููุณุจ ุงููุฆููุฉ
- โ ุนุฑุถ KPIs ุญุณุจ ุงูุชุงุฑูุฎ ูุงูููุทูุฉ
- โ **ูููุฐุฌ ุฐูู** ูุน ุงุฎุชูุงุฑ ุชุงุฑูุฎ ุดุงูู
- โ **ุนุฑุถ Day Order** (ุชุฑุชูุจ ุงูุฃูุงู)
- โ **ุญุณุงุจ Activity Start Date** ูู ุฃูู KPI ูุฎุทุทุฉ
- โ **Batch Submission** - ุฅุฑุณุงู ูุฌูุน
- โ **Preview ูุจู ุงูุฅุฑุณุงู**
- โ **Pending Approval** - KPIs ูุนููุฉ ุชุญุชุงุฌ ููุงููุฉ
- โ **Smart Date Calculation** - ุญุณุงุจ ุงูุชูุงุฑูุฎ ุงูุชููุงุฆู

#### ุงูููููุงุช ุงูุฑุฆูุณูุฉ:
- `KPITracking.tsx`: ุตูุญุฉ ุชุชุจุน KPI ุงูุฑุฆูุณูุฉ
- `KPITableWithCustomization.tsx`: ุฌุฏูู KPIs
- `SmartKPIForm.tsx`: ูููุฐุฌ ุฐูู ูุฅูุดุงุก KPIs
- `SmartActualKPIForm.tsx`: ูููุฐุฌ ุฐูู ููู KPIs ุงููุนููุฉ
- `EnhancedSmartActualKPIForm.tsx`: ูููุฐุฌ ูุญุณูู
- `KPITable.tsx`: ุนุฑุถ KPIs
- `KPIEditModal.tsx`: ุชุนุฏูู KPIs
- `BulkEditKPIModal.tsx`: ุชุนุฏูู ูุฌูุน

#### ููููุฉ ุนูู ุงููุธุงู:
```typescript
// KPIs ุงููุฎุทุทุฉ:
// - ูุชู ุฅูุดุงุคูุง ุชููุงุฆูุงู ูู BOQ
// - ุฃู ูููู ุฅูุดุงุคูุง ูุฏููุงู
// - Input Type = "Planned"
// - ุชุญุชูู ุนูู Target Date

// KPIs ุงููุนููุฉ:
// - ูุชู ุฅูุดุงุคูุง ูุฏููุงู ูู ูุจู ุงููููุฏุณูู
// - Input Type = "Actual"
// - ุชุญุชูู ุนูู Actual Date
// - ุชุญุชุงุฌ ููุงููุฉ ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ููุณ Admin/Manager
```

#### ุญุณุงุจ ุชุงุฑูุฎ ุงูุจุฏุก ุงูุชููุงุฆู:
```typescript
// ุนูุฏ ุนุฑุถ ูุดุงุท BOQ:
1. ูุชู ุงูุจุญุซ ุนู ุฃูู KPI ูุฎุทุทุฉ ููุฐุง ุงููุดุงุท
2. ูุชู ุฃุฎุฐ Target Date ูู ุฃูู KPI
3. ูุชู ุนุฑุถู ูู Activity Start Date
4. ุฅุฐุง ูู ุชูุฌุฏ KPI ูุฎุทุทุฉุ ูุชู ุงุณุชุฎุฏุงู Planned Activity Start Date ูู BOQ
```

---

### 4. **ููุญุฉ ุงูุชุญูู (Dashboard)**

#### ุงููุธุงุฆู ุงููุชุงุญุฉ:
- โ ุนุฑุถ ุฅุญุตุงุฆูุงุช ุดุงููุฉ:
  - ุนุฏุฏ ุงููุดุงุฑูุน (ุงูุฅุฌูุงููุ ุงููุดุทุฉุ ุงูููุชููุฉ)
  - ุนุฏุฏ ุงูุฃูุดุทุฉ (ุงูุฅุฌูุงููุ ุงูููุชููุฉ)
  - ุนุฏุฏ KPIs (ุงูุฅุฌูุงููุ ุงูููุชููุฉุ ุงููุชุฃุฎุฑุฉ)
  - ุงููููุฉ ุงููุงููุฉ (ุงููุฎุทุทุฉุ ุงูููุชุณุจุฉุ ุงููุชุจููุฉ)
- โ ุฑุณูู ุจูุงููุฉ:
  - ุชูุฒูุน ุงููุดุงุฑูุน ุญุณุจ ุงูุญุงูุฉ
  - ุชูุฏู ุงูุฃูุดุทุฉ
  - ุฃุฏุงุก KPIs
  - ุงูุงุชุฌุงูุงุช ุงูุฒูููุฉ
- โ ุชุญูููุงุช ูุชูุฏูุฉ:
  - ุชุญููู ุงูุฃุฏุงุก
  - ุชุญููู ูุงูู
  - ุชุญููู ุงููุฎุงุทุฑ
- โ ุชูุจููุงุช ุฐููุฉ:
  - ูุดุงุฑูุน ูุชุฃุฎุฑุฉ
  - ุฃูุดุทุฉ ุชุญุชุงุฌ ุงูุชุจุงู
  - KPIs ูุชุฃุฎุฑุฉ
- โ ุฃุญุฏุงุซ ุญุฏูุซุฉ:
  - ุขุฎุฑ ุงูุชุญุฏูุซุงุช
  - ุขุฎุฑ ุงูุฃูุดุทุฉ ุงูููุชููุฉ
  - ุขุฎุฑ KPIs ุงููุณุฌูุฉ

#### ุงูููููุงุช ุงูุฑุฆูุณูุฉ:
- `IntegratedDashboard.tsx`: ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ
- `DashboardOverview.tsx`: ูุธุฑุฉ ุนุงูุฉ
- `DataInsights.tsx`: ุฑุคู ุงูุจูุงูุงุช
- `DashboardCharts.tsx`: ุงูุฑุณูู ุงูุจูุงููุฉ
- `SmartAlerts.tsx`: ุงูุชูุจููุงุช ุงูุฐููุฉ
- `AdvancedAnalytics.tsx`: ุงูุชุญูููุงุช ุงููุชูุฏูุฉ
- `ProjectProgressDashboard.tsx`: ุชูุฏู ุงููุดุงุฑูุน
- `ZoneIntegrationDashboard.tsx`: ุชูุงูู ุงูููุงุทู

---

### 5. **ุงูุชูุงุฑูุฑ (Reports)**

#### ุฃููุงุน ุงูุชูุงุฑูุฑ ุงููุชุงุญุฉ:
- โ **ุงูุชูุงุฑูุฑ ุงูููููุฉ**: ุฅูุชุงุฌูุฉ ุงูููู
- โ **ุงูุชูุงุฑูุฑ ุงูุฃุณุจูุนูุฉ**: ููุฎุต ุงูุฃุณุจูุน
- โ **ุงูุชูุงุฑูุฑ ุงูุดูุฑูุฉ**: ููุฎุต ุงูุดูุฑ
- โ **ุงูุชูุงุฑูุฑ ุงููุงููุฉ**: ุงูุฃุฏุงุก ุงููุงูู
- โ **ุชูุงุฑูุฑ Lookahead**: ุงูุชุฎุทูุท ุงููุณุชูุจูู
- โ **ุชูุงุฑูุฑ ุงููุณุงุฑ ุงูุญุฑุฌ**: ุงูุฃูุดุทุฉ ุงูุญุฑุฌุฉ
- โ **ุชูุงุฑูุฑ ุงูุฃุฏุงุก**: ููุงุฑูุฉ ุงููุฎุทุท ููุงุจู ุงููุนูู
- โ **ุชูุงุฑูุฑ ูุฎุตุตุฉ**: ุชูุงุฑูุฑ ูุฎุตุตุฉ ุญุณุจ ุงูุญุงุฌุฉ
- โ **ุชูุงุฑูุฑ ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ**: ุชุญููู ุงูุฅูุฑุงุฏุงุช

#### ุงููุธุงุฆู:
- โ ุชุตุฏูุฑ PDF
- โ ุชุตุฏูุฑ Excel
- โ ุทุจุงุนุฉ ุงูุชูุงุฑูุฑ
- โ ุชุตุฏูุฑ JSON/CSV
- โ ุชุตููุฉ ูุชูุฏูุฉ (ุญุณุจ ุงููุดุฑูุนุ ุงููุณูุ ุงูุชุงุฑูุฎ)
- โ Cache ููุจูุงูุงุช (ุชุญุณูู ุงูุฃุฏุงุก)
- โ ุชูุงุฑูุฑ ูุงุจูุฉ ููุทุจุงุนุฉ

#### ุงูููููุงุช ุงูุฑุฆูุณูุฉ:
- `ModernReportsManager.tsx`: ูุฏูุฑ ุงูุชูุงุฑูุฑ ุงูุญุฏูุซ
- `ReportsManager.tsx`: ูุฏูุฑ ุงูุชูุงุฑูุฑ
- `PrintableReport.tsx`: ุชูุงุฑูุฑ ูุงุจูุฉ ููุทุจุงุนุฉ

---

### 6. **ุงูุฅุนุฏุงุฏุงุช (Settings)**

#### ุงูุฃูุณุงู ุงููุชุงุญุฉ:
- โ **ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ**: ูุนูููุงุช ุงูุดุฑูุฉ
- โ **ุงูุฃูุณุงู**: ุฅุฏุงุฑุฉ ุงูุฃูุณุงู
- โ **ุฃููุงุน ุงููุดุงุฑูุน**: ุฅุฏุงุฑุฉ ุงูุฃููุงุน
- โ **ุงูุนููุงุช**: ุฅุฏุงุฑุฉ ุงูุนููุงุช
- โ **ููุงูุจ ุงูุฃูุดุทุฉ**: ุฅุฏุงุฑุฉ ููุงูุจ ุงูุฃูุดุทุฉ
- โ **ุงูุนุทูุงุช**: ุฅุฏุงุฑุฉ ุงูุนุทูุงุช ูุฃูุงู ุงูุนูู
- โ **ุงููุณุชุฎุฏููู**: ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช
- โ **ุงูุฃูุณุงู**: ุฅุฏุงุฑุฉ ุฃูุณุงู ุงูุดุฑูุฉ
- โ **ุงููุณููุงุช ุงููุธูููุฉ**: ุฅุฏุงุฑุฉ ุงููุณููุงุช
- โ **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ุฅุนุฏุงุฏุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู
- โ **Google Drive**: ุชูุงูู Google Drive

#### ูุธุงุฆู ุฅุถุงููุฉ:
- โ ุงุณุชูุฑุงุฏ/ุชุตุฏูุฑ ุงูุจูุงูุงุช
- โ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช ุงููุฎุตุตุฉ
- โ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- โ ุงููุณุฎ ุงูุงุญุชูุงุทู
- โ ุฅุนุฏุงุฏุงุช ุงูุฃูุงู

---

### 7. **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู**

#### ุงููุธุงุฆู:
- โ ุนุฑุถ ูุงุฆูุฉ ุงููุณุชุฎุฏููู
- โ ุฅูุดุงุก ูุณุชุฎุฏููู ุฌุฏุฏ
- โ ุชุนุฏูู ูุนูููุงุช ุงููุณุชุฎุฏููู
- โ ุญุฐู ุงููุณุชุฎุฏููู
- โ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- โ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช ุงููุฎุตุตุฉ
- โ ุชูุนูู/ุชุนุทูู ุงููุณุชุฎุฏููู
- โ ูุฒุงููุฉ ุงููุณุชุฎุฏููู ูุน Supabase Auth
- โ ุฏููู ุงููุณุชุฎุฏููู (Directory)
- โ ูููุงุช ุชุนุฑูู ุงููุณุชุฎุฏููู ูุน QR Codes
- โ ุฑูุน ุงูุตูุฑ ุงูุดุฎุตูุฉ
- โ ุฅููุงู ุงูููู ุงูุดุฎุตู (Profile Completion)

#### ุงูููููุงุช ุงูุฑุฆูุณูุฉ:
- `UserManagement.tsx`: ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- `IntegratedUserManager.tsx`: ูุฏูุฑ ุงููุณุชุฎุฏููู ุงููุชูุงูู
- `UserDirectory.tsx`: ุฏููู ุงููุณุชุฎุฏููู
- `QRCodeGenerator.tsx`: ุชูููุฏ QR Codes

---

### 8. **ุงูุงุณุชูุฑุงุฏ ูุงูุชุตุฏูุฑ**

#### ุงูุจูุงูุงุช ุงููุงุจูุฉ ููุงุณุชูุฑุงุฏ/ุงูุชุตุฏูุฑ:
- โ ุงููุดุงุฑูุน
- โ ุฃูุดุทุฉ BOQ
- โ KPIs
- โ ุงูุฃูุณุงู
- โ ุฃููุงุน ุงููุดุงุฑูุน
- โ ุงูุนููุงุช
- โ ุงููุณุชุฎุฏููู
- โ ุงูุนุทูุงุช
- โ ุงูุฃูุณุงู ูุงููุณููุงุช ุงููุธูููุฉ

#### ุงูุตูุบ ุงููุฏุนููุฉ:
- โ CSV
- โ Excel (XLSX)
- โ JSON

#### ุงูููุฒุงุช:
- โ Bulk operations - ุนูููุงุช ูุฌูุนุฉ
- โ Data validation - ุงูุชุญูู ูู ุงูุจูุงูุงุช
- โ Error handling - ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ Templates - ููุงูุจ ุฌุงูุฒุฉ
- โ Preview ูุจู ุงูุงุณุชูุฑุงุฏ

---

### 9. **ุงููุณุฎ ุงูุงุญุชูุงุทู (Backup System)**

#### ุงูููุฒุงุช:
- โ **Full Database Backup** - ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ
- โ **Table-specific Backup** - ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฌุฏูู ูุญุฏุฏ
- โ **Google Drive Integration** - ุฑูุน ุชููุงุฆู ูู Google Drive
- โ **Local Storage** - ุญูุธ ูุญูู
- โ **Automatic Backups** - ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ (Cron Jobs)
- โ **Backup Validation** - ุงูุชุญูู ูู ุตุญุฉ ุงููุณุฎ
- โ **Restore Functionality** - ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช
- โ **Backup History** - ุณุฌู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

#### ุงูููููุงุช:
- `backupManager.ts`: ูุฏูุฑ ุงููุณุฎ ุงูุงุญุชูุงุทู
- `googleDriveBackup.ts`: ุชูุงูู Google Drive
- `databaseManager.ts`: ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

### 10. **ูุธุงู ุงูุจุญุซ ุงูุดุงูู**

#### ุงูููุฒุงุช:
- โ **Global Search** - ุจุญุซ ุดุงูู ูู ุฌููุน ุงูุจูุงูุงุช
- โ **Advanced Filters** - ุชุตููุฉ ูุชูุฏูุฉ
- โ **Saved Views** - ุญูุธ ุงููุดุงูุฏุงุช
- โ **Quick Search** - ุจุญุซ ุณุฑูุน
- โ **Search History** - ุณุฌู ุงูุจุญุซ

---

### 11. **ูุธุงู ุงูุฅุดุนุงุฑุงุช ูุงูุชูุจููุงุช**

#### ุงูููุฒุงุช:
- โ **KPI Notifications** - ุฅุดุนุงุฑุงุช KPIs
- โ **Approval Notifications** - ุฅุดุนุงุฑุงุช ุงูููุงููุฉ
- โ **Smart Alerts** - ุชูุจููุงุช ุฐููุฉ
- โ **Activity Tracking** - ุชุชุจุน ุงูุฃูุดุทุฉ
- โ **Audit Logs** - ุณุฌูุงุช ุงูุชุฏููู

---

### 12. **ูุธุงู ุฅููุงู ุงูููู ุงูุดุฎุตู**

#### ุงูููุฒุงุช:
- โ **Profile Completion Modal** - ูุงูุฐุฉ ุฅููุงู ุงูููู
- โ **Required Fields Check** - ูุญุต ุงูุญููู ุงููุทููุจุฉ
- โ **Progress Tracking** - ุชุชุจุน ุงูุชูุฏู
- โ **Guided Setup** - ุฅุนุฏุงุฏ ููุฌู

---

## ๐ ุชุฏูู ุงูุจูุงูุงุช ูู ุงููุธุงู

### 1. **ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ:**
```
ุงููุณุชุฎุฏู โ IntelligentProjectForm
         โ ProjectsList Component
         โ Supabase: INSERT into "Planning Database - ProjectsList"
         โ ุงููุดุฑูุน ูุญููุธ
```

### 2. **ุฅูุดุงุก ูุดุงุท BOQ:**
```
ุงููุณุชุฎุฏู โ IntelligentBOQForm
         โ ูููุฃ: ุงููุดุฑูุนุ ุงููุดุงุทุ ุงููููุฉ ุงููุฎุทุทุฉุ ุงูุชูุงุฑูุฎ
         โ ูุชู ุชูููุฏ KPI Preview ุชููุงุฆูุงู (13 ุณุฌู ูููู)
         โ BOQManagement Component
         โ Supabase: INSERT into "Planning Database - BOQ Rates"
         โ ุงููุดุงุท ูุญููุธ
         
         ุฅุฐุง ูุงู Auto-Generate KPIs ููุนูู:
         โ autoKPIGenerator.ts
         โ generateKPIsFromBOQ()
         โ ุชูุฒูุน ุงููููุฉ ุนูู ุฃูุงู ุงูุนูู
         โ saveGeneratedKPIs()
         โ Supabase: INSERT into "Planning Database - KPI"
            WITH "Input Type" = "Planned"
         โ KPIs ุชู ุฅูุดุงุคูุง
```

### 3. **ุนุฑุถ KPIs:**
```
ุงููุณุชุฎุฏู โ ููุชุญ ุตูุญุฉ /kpi
         โ KPITracking Component
         โ Supabase: SELECT * from "Planning Database - KPI"
         โ ุชุตููุฉ ุญุณุจ:
            - Project Code
            - Input Type (Planned/Actual)
            - Date Range
         โ KPIs ูุนุฑูุถุฉ
```

### 4. **ุฅุถุงูุฉ KPI ูุนูู (ูุฏูู):**
```
ุงููุณุชุฎุฏู โ KPI Form
         โ ูุฎุชุงุฑ: Input Type = "Actual"
         โ KPITracking.handleCreateKPI()
         โ Supabase: INSERT into "Planning Database - KPI"
            WITH "Input Type" = "Actual"
         โ KPI ูุญููุธ
         
         ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ููุณ Admin/Manager:
         โ ูุญุชุงุฌ ููุงููุฉ
         โ ูุชู ุญูุธู ูุน Approval Status = "Pending"
```

### 5. **ุชุญุฏูุซ Actual Units ูู BOQ:**
```
ุนูุฏ ุชุญุฏูุซ KPI ูุนูู:
โ syncBOQFromKPI()
โ ูุฌูุน ูู KPIs ุงููุนููุฉ ูููุณ ุงููุดุงุท
โ ูุญุณุจ ูุฌููุน ุงููููุงุช
โ ูุญุฏุซ "Actual Units" ูู BOQ
โ BOQ ูุญุฏุซ ุชููุงุฆูุงู
```

---

## ๐ง ุงูููุฒุงุช ุงูุชูููุฉ ุงููุชูุฏูุฉ

### 1. **Row Level Security (RLS)**
- โ ุญูุงูุฉ ุนูู ูุณุชูู ุงูุตููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ูู ูุณุชุฎุฏู ูุฑู ููุท ุงูุจูุงูุงุช ุงููุณููุญ ูู ุจุฑุคูุชูุง
- โ ุณูุงุณุงุช ุฃูุงู ููู ุฌุฏูู
- โ ุฏุนู ุงูุตูุงุญูุงุช ุงููุฎุตุตุฉ

### 2. **Connection Management**
- โ ุฅุฏุงุฑุฉ ุงุชุตุงูุงุช Supabase ูุญุณููุฉ
- โ ุญู ูุดููุฉ ููุฏุงู ุงูุงุชุตุงู
- โ Connection pooling
- โ Fast query executor
- โ Connection recovery
- โ Connection heartbeat

### 3. **Caching System**
- โ ุชุฎุฒูู ูุคูุช ููุจูุงูุงุช ุงููุชูุฑุฑุฉ
- โ KPI Cache
- โ Projects Cache
- โ Analytics Cache
- โ Smart cache invalidation
- โ Cache expiration (30 minutes)

### 4. **Auto Calculations**
- โ ุญุณุงุจ ุงูุชูุฏู ุชููุงุฆูุงู
- โ ุญุณุงุจ ุงูููู ุงููุงููุฉ
- โ ุญุณุงุจ ุงููุณุจ ุงููุฆููุฉ
- โ ุญุณุงุจ ุงููุฑููุงุช
- โ ุญุณุงุจ ุงูุฅูุชุงุฌูุฉ
- โ ุญุณุงุจ Earned Value
- โ ุญุณุงุจ Planned Value
- โ ุญุณุงุจ Variance

### 5. **Smart Date Calculations**
- โ ุญุณุงุจ ุฃูุงู ุงูุนูู (ุงุณุชุซูุงุก ุงูุนุทูุงุช)
- โ ุญุณุงุจ Activity Start Date ูู ุฃูู KPI
- โ ุญุณุงุจ ุงููุฏุฏ ูุงูุฌุฏุงูู ุงูุฒูููุฉ
- โ ุนุฑุถ Day Order
- โ ุญุณุงุจ Working Days
- โ ุญุณุงุจ Calendar Duration

### 6. **Data Mappers**
- โ ุชุญููู ุงูุจูุงูุงุช ุจูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุชุทุจูู
- โ ูุนุงูุฌุฉ ุฃุณูุงุก ุงูุฃุนูุฏุฉ (ูุน ุงููุณุงูุงุช)
- โ ุชุญููู ุงูุฃููุงุน (TEXT ุฅูู NUMERIC)
- โ ูุนุงูุฌุฉ ุงูููู ุงููุงุฑุบุฉ
- โ Normalization

### 7. **Permission Guards**
- โ ุญูุงูุฉ ุงูููููุงุช ุญุณุจ ุงูุตูุงุญูุงุช
- โ ุฅุฎูุงุก/ุฅุธูุงุฑ ุงูุนูุงุตุฑ ุญุณุจ ุงูุฏูุฑ
- โ ููุน ุงููุตูู ุบูุฑ ุงููุตุฑุญ ุจู
- โ Client-side & Server-side guards

### 8. **Smart Loading**
- โ ูุธุงู ุชุญููู ุฐูู
- โ Loading states ูุญุณููุฉ
- โ Progress indicators
- โ Error handling

### 9. **Performance Optimizations**
- โ Lazy loading
- โ Pagination
- โ Query optimization
- โ Code splitting
- โ Image optimization
- โ Debouncing
- โ Memoization

### 10. **Error Handling**
- โ Comprehensive error handling
- โ User-friendly error messages
- โ Error logging
- โ Error recovery

---

## ๐ ุงูุจููุฉ ุงูุชูููุฉ

### Frontend Architecture
```
app/
โโโ (authenticated)/        # Routes ูุญููุฉ
โ   โโโ dashboard/          # ููุญุฉ ุงูุชุญูู
โ   โโโ projects/           # ุงููุดุงุฑูุน
โ   โโโ kpi/                # KPIs
โ   โโโ boq/                # BOQ
โ   โโโ reports/            # ุงูุชูุงุฑูุฑ
โ   โโโ settings/           # ุงูุฅุนุฏุงุฏุงุช
โ   โโโ ...
โโโ api/                    # API Routes
โ   โโโ backup/             # ุงููุณุฎ ุงูุงุญุชูุงุทู
โ   โโโ cron/               # Cron Jobs
โ   โโโ ...
โโโ ...

components/
โโโ auth/                   # ุงููุตุงุฏูุฉ
โโโ dashboard/              # ููุญุฉ ุงูุชุญูู
โโโ projects/               # ุงููุดุงุฑูุน
โโโ boq/                    # BOQ
โโโ kpi/                    # KPIs
โโโ reports/                # ุงูุชูุงุฑูุฑ
โโโ settings/               # ุงูุฅุนุฏุงุฏุงุช
โโโ users/                  # ุงููุณุชุฎุฏููู
โโโ ui/                     # ููููุงุช UI ูุดุชุฑูุฉ

lib/
โโโ supabase.ts             # ุชุนุฑููุงุช Supabase
โโโ dataMappers.ts          # ูุญููุงุช ุงูุจูุงูุงุช
โโโ permissionsSystem.ts    # ูุธุงู ุงูุตูุงุญูุงุช
โโโ autoKPIGenerator.ts     # ุชูููุฏ KPI ุชููุงุฆูุงู
โโโ projectAnalytics.ts     # ุชุญูููุงุช ุงููุดุงุฑูุน
โโโ backupManager.ts        # ุงููุณุฎ ุงูุงุญุชูุงุทู
โโโ ...
```

### Database Architecture
```
Supabase (PostgreSQL)
โโโ Planning Database - ProjectsList
โโโ Planning Database - BOQ Rates
โโโ Planning Database - KPI
โโโ users
โโโ divisions
โโโ project_types
โโโ currencies
โโโ holidays
โโโ company_settings
โโโ departments
โโโ job_titles
โโโ audit_log
โโโ ...
```

---

## ๐ ุณูุฑ ุงูุนูู ุงููููู

### ูููููุฏุณ (Engineer):
1. ุชุณุฌูู ุงูุฏุฎูู
2. ุนุฑุถ ุงููุดุงุฑูุน ุงููุฎุตุตุฉ ูู
3. ุฅูุดุงุก/ุชุนุฏูู ุฃูุดุทุฉ BOQ
4. ุชุณุฌูู KPIs ูุนููุฉ ููููุงู
5. ุนุฑุถ ุงูุชูุงุฑูุฑ ุงูููููุฉ
6. ุฅููุงู ุงูููู ุงูุดุฎุตู (ุฅุฐุง ูุฒู ุงูุฃูุฑ)

### ูููุฏูุฑ (Manager):
1. ุชุณุฌูู ุงูุฏุฎูู
2. ุนุฑุถ ููุญุฉ ุงูุชุญูู ุงูุดุงููุฉ
3. ูุฑุงูุจุฉ ุชูุฏู ุฌููุน ุงููุดุงุฑูุน
4. ุงูููุงููุฉ ุนูู KPIs ูุนููุฉ
5. ุฅูุดุงุก/ุชุนุฏูู ุงููุดุงุฑูุน
6. ุนุฑุถ ุงูุชูุงุฑูุฑ ุงูุดุงููุฉ
7. ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช
8. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (ูุญุฏูุฏ)

### ูููุดุงูุฏ (Viewer):
1. ุชุณุฌูู ุงูุฏุฎูู
2. ุนุฑุถ ููุญุฉ ุงูุชุญูู (ูุฑุงุกุฉ ููุท)
3. ุนุฑุถ ุงููุดุงุฑูุน ูุงูุฃูุดุทุฉ
4. ุนุฑุถ ุงูุชูุงุฑูุฑ
5. ูุง ููููู ุงูุชุนุฏูู

### ูููุฎุทุท (Planner):
1. ุชุณุฌูู ุงูุฏุฎูู
2. ุนุฑุถ ุงููุดุงุฑูุน ูุงูุฃูุดุทุฉ
3. ุงูููุงููุฉ ุนูู Planned KPIs
4. ุนุฑุถ ุงูุชูุงุฑูุฑ
5. ูุฑุงูุจุฉ ุงูุชูุฏู

---

## ๐ ุงูุฃุฏุงุก ูุงูุชุญุณููุงุช

### ุงูุชุญุณููุงุช ุงููุทุจูุฉ:
- โ Lazy Loading: ุชุญููู ูุณูู
- โ Pagination: ุชุฑููู ุงูุตูุญุงุช
- โ Query Optimization: ุชุญุณูู ุงูุงุณุชุนูุงูุงุช
- โ Connection Pooling: ุชุฌููุน ุงูุงุชุตุงูุงุช
- โ Caching: ุงูุชุฎุฒูู ุงููุคูุช (30 ุฏูููุฉ)
- โ Code Splitting: ุชูุณูู ุงูููุฏ
- โ Image Optimization: ุชุญุณูู ุงูุตูุฑ
- โ Debouncing: ุชูููู ุงูุทูุจุงุช
- โ Memoization: ุญูุธ ุงููุชุงุฆุฌ

### ุงููุฑุงูุจุฉ:
- โ Performance Monitoring
- โ Error Tracking
- โ Usage Analytics
- โ Connection Monitoring

---

## ๐ ุงูุฃูุงู

### ุทุจูุงุช ุงูุฃูุงู:
1. **Authentication**: ูุตุงุฏูุฉ ุงููุณุชุฎุฏููู (Supabase Auth)
2. **Authorization**: ุงูุชุญูู ูู ุงูุตูุงุญูุงุช (Permission System)
3. **Row Level Security**: ุฃูุงู ุนูู ูุณุชูู ุงูุตููู (RLS)
4. **Data Validation**: ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
5. **Input Sanitization**: ุชูุธูู ุงููุฏุฎูุงุช
6. **HTTPS**: ุชุดููุฑ ุงูุงุชุตุงูุงุช
7. **Service Role Key**: ููุนูููุงุช ุงูุญุณุงุณุฉ ููุท

---

## ๐ ุงูุณูุฑุจุชุงุช ุงููุณุงุนุฏุฉ

### ูู ูุฌูุฏ `scripts/`:
- โ `import-data.js`: ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ุงูุฃูููุฉ
- โ `sync-all-auth-users.js`: ูุฒุงููุฉ ุงููุณุชุฎุฏููู
- โ `check-database-structure.js`: ูุญุต ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ `fix-permissions-flag.js`: ุฅุตูุงุญ ุตูุงุญูุงุช ุงููุณุชุฎุฏููู
- โ `test-kpi-generation-math.js`: ุงุฎุชุจุงุฑ ุญุณุงุจ KPIs
- โ `performance-monitor.js`: ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- โ `run-auto-calculations.js`: ุชุดุบูู ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ
- โ `test-backup-simple.mjs`: ุงุฎุชุจุงุฑ ุงููุณุฎ ุงูุงุญุชูุงุทู
- โ `get-google-drive-token.js`: ุงูุญุตูู ุนูู Google Drive Token
- โ ูุนุฏุฉ ุณูุฑุจุชุงุช ุฃุฎุฑู ููุฅุฏุงุฑุฉ ูุงูุตูุงูุฉ

---

## ๐ฏ ุงูุฎูุงุตุฉ

**AlRabat RPF** ูู ูุธุงู ูุชูุงูู ููุชูุฏู ูุฅุฏุงุฑุฉ ุงููุดุงุฑูุน ุงูุฅูุดุงุฆูุฉ ูุชุถูู:

โ **ุฅุฏุงุฑุฉ ุดุงููุฉ ูููุดุงุฑูุน** ูุน ุชุชุจุน ูุงูู ููุญุงูุงุช ูุงูุชูุฏู  
โ **ูุธุงู BOQ ูุชูุฏู** ูุน ุชูููุฏ KPI ุชููุงุฆู  
โ **ุชุชุจุน KPI ุฏููู** ูุน ููุงุฑูุฉ ุงููุฎุทุท ููุงุจู ุงููุนูู  
โ **ููุญุฉ ุชุญูู ุฐููุฉ** ูุน ุชุญูููุงุช ูุฑุณูู ุจูุงููุฉ  
โ **ูุธุงู ุตูุงุญูุงุช ูุชูุฏู** ูุน 200+ ุตูุงุญูุฉ ูุงุจูุฉ ููุชุฎุตูุต  
โ **ุชูุงุฑูุฑ ุดุงููุฉ** ุจูุฎุชูู ุงูุฃููุงุน  
โ **ุฃูุงู ูุชุนุฏุฏ ุงูุทุจูุงุช** ูุน RLS ู Permission Guards  
โ **ุฃุฏุงุก ูุญุณูู** ูุน caching ู query optimization  
โ **ูุธุงู ูุณุฎ ุงุญุชูุงุทู** ูุชูุงูู ูุน Google Drive  
โ **ุงุณุชูุฑุงุฏ/ุชุตุฏูุฑ** ุดุงูู ููุจูุงูุงุช  
โ **ูุธุงู ุฅุดุนุงุฑุงุช** ุฐูู  
โ **ูุงุฌูุฉ ูุณุชุฎุฏู** ุญุฏูุซุฉ ููุชุฌุงูุจุฉ  

ุงููุธุงู ูุตูู ุฎุตูุตุงู ูุดุฑูุงุช ุงูุจูุงุก ูุฅุฏุงุฑุฉ ุงููุดุงุฑูุน ูุน ูุฑุงุนุงุฉ ุฃูุถู ุงูููุงุฑุณุงุช ูู ุงูุตูุงุนุฉ.

---

**ุงูุฅุตุฏุงุฑ ุงูุญุงูู:** 3.0.14  
**ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2024  
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุฅูุชุงุฌ โ  
**ุงููุทูุฑ:** AlRabat RPF Development Team

